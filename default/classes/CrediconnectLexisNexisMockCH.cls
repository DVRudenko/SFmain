@isTest
global class CrediconnectLexisNexisMockCH implements HttpCalloutMock {
  	global HttpResponse respond(HTTPRequest request) {
  		String requestType = '';
  		if (request.getBody().contains('<ns:GetReport>')) {
        	requestType = 'report';
        } else if (request.getBody().contains('<urn:IDUProcess')) {
        	requestType = 'IDU';
        }

        Map<String, String> requestBodyMap = new Map<String, String>();
    	requestBodyMap.put('report', '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/" xmlns:u="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"><s:Header><o:Security s:mustUnderstand="1" xmlns:o="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><u:Timestamp u:Id="_0"><u:Created>2018-11-29T11:36:25.600Z</u:Created><u:Expires>2018-11-29T11:41:25.600Z</u:Expires></u:Timestamp></o:Security></s:Header><s:Body><GetReportResponse xmlns="http://crediconnect.ch/V2/02/"><GetReportResult xmlns:a="http://schemas.creditreform.ch/2017/05" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><a:OrderData><a:OrderID>528543576</a:OrderID><a:OriginOrderID i:nil="true"/><a:ProductCode>07</a:ProductCode><a:ReportLanguage>EN</a:ReportLanguage><a:MemberID>910024010</a:MemberID><a:UserID>11</a:UserID><a:Reference1 i:nil="true"/><a:Reference2 i:nil="true"/><a:InquiryAmount>0</a:InquiryAmount><a:TermsOfExecution>Void</a:TermsOfExecution><a:ReportFormat>PDF</a:ReportFormat><a:DateOfSupply>2018-11-29T12:36:24.592678+01:00</a:DateOfSupply><a:CrefoID>406471879</a:CrefoID><a:RequestedCrefoID>406471879</a:RequestedCrefoID><a:UpdateInfo><a:UpdateOutstanding>None</a:UpdateOutstanding><a:BranchOffice>LU</a:BranchOffice><a:BranchOfficeCommunication><a:Phone1>0413701944</a:Phone1><a:Phone2 i:nil="true"/><a:Phone3 i:nil="true"/><a:Fax>0413701946</a:Fax><a:Email>wa@luzern.creditreform.ch</a:Email><a:Url/></a:BranchOfficeCommunication><a:PIType>None</a:PIType></a:UpdateInfo><a:State i:nil="true"/><a:Remark i:nil="true"/></a:OrderData><a:Address><a:Id i:nil="true"/><a:CrefoID>406471879</a:CrefoID><a:UID>CHE110477663</a:UID><a:HrNr>CH17030143616</a:HrNr><a:AddressType>Business</a:AddressType><a:Gender>Void</a:Gender><a:Salutation i:nil="true"/><a:FirstName i:nil="true"/><a:DateOfBirth i:nil="true"/><a:YearOfBirth i:nil="true"/><a:Name>TesT AG Schweiz</a:Name><a:AddressLine1>Bösch</a:AddressLine1><a:AddressLine2/><a:HouseNr>63</a:HouseNr><a:PostalCode>6331</a:PostalCode><a:City>Hünenberg</a:City><a:Canton>ZG</a:Canton><a:Country>CH</a:Country><a:Communication><a:Phone1>0417856010</a:Phone1><a:Phone2/><a:Phone3 i:nil="true"/><a:Fax>0417856015</a:Fax><a:Email>test@test-ag.ch</a:Email><a:Url>www.test-ag.ch</a:Url></a:Communication></a:Address><a:BasicContent><a:CrefoID>406471879</a:CrefoID><a:UID>CHE110477663</a:UID><a:HrNr>CH17030143616</a:HrNr><a:Language>DE</a:Language><a:LegalForm><a:Code>31</a:Code><a:Description>Joint-stock Company (AG)</a:Description></a:LegalForm><a:Domicile>Hünenberg</a:Domicile><a:Foundation>1989</a:Foundation><a:DateOfRegistry>1989-02-08T00:00:00</a:DateOfRegistry><a:DateOfCancellation i:nil="true"/><a:Capitals><a:Capital><a:Code>01</a:Code><a:Description>Share capital</a:Description><a:Currency>CHF</a:Currency><a:Amount>100000</a:Amount></a:Capital></a:Capitals><a:Status>Active</a:Status><a:Nation i:nil="true"/><a:DateOfBirth i:nil="true"/><a:PlaceOfOrigin i:nil="true"/></a:BasicContent><a:ProductContent><a:Industry><a:Code>466900</a:Code><a:Description>Wholesale of other machinery and equipment</a:Description></a:Industry><a:CategoryEmployees>Micro5</a:CategoryEmployees><a:CategoryTurnover>Micro2</a:CategoryTurnover><a:Solvency><a:Type>BA</a:Type><a:Value>Green</a:Value></a:Solvency><a:ModificationFlags i:nil="true"/><a:POD i:nil="true"/><a:CreditLimit>2400</a:CreditLimit><a:CreditJudgement i:nil="true"/></a:ProductContent><a:ExtendedProductContent><a:ForeignerStatus i:nil="true"/><a:Turnover i:nil="true"/><a:Employees i:nil="true"/><a:ChapterScores i:nil="true"/><a:Titel i:nil="true"/><a:PostalAddress><a:NameZ1>TesT AG Schweiz</a:NameZ1><a:NameZ2/><a:NameZ3/><a:Co/><a:Street>Bösch</a:Street><a:HouseNr>63</a:HouseNr><a:Meadow/><a:HouseName/><a:Country>CH</a:Country><a:PostalCode>6331</a:PostalCode><a:Place>Hünenberg</a:Place><a:DeliverableCode/><a:Postbox/><a:PBPostalCode/><a:PBPlace/></a:PostalAddress></a:ExtendedProductContent><a:CustomizedKeyValues><a:KeyValue><a:Key>AuthorisedSignatories</a:Key><a:Value><![CDATA[&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;AuthorisedSignatories&gt;&lt;AuthorisedSignatory&gt;&lt;AddressType&gt;Consumer&lt;/AddressType&gt;&lt;CrefoID&gt;420523701&lt;/CrefoID&gt;&lt;StatusCode&gt;Alive&lt;/StatusCode&gt;&lt;Name&gt;Havemann&lt;/Name&gt;&lt;Firstname&gt;Therese&lt;/Firstname&gt;&lt;City&gt;Düsseldorf&lt;/City&gt;&lt;PlaceOfOrigin&gt;&lt;/PlaceOfOrigin&gt;&lt;Nation&gt;DE&lt;/Nation&gt;&lt;Country&gt;DE&lt;/Country&gt;&lt;Body&gt;Supervisory board&lt;/Body&gt;&lt;Position&gt;Member&lt;/Position&gt;&lt;Signature&gt;Sole sign. authority&lt;/Signature&gt;&lt;SignatureCode&gt;SAUTH&lt;/SignatureCode&gt;&lt;Warning&gt;False&lt;/Warning&gt;&lt;/AuthorisedSignatory&gt;&lt;AuthorisedSignatory&gt;&lt;AddressType&gt;Consumer&lt;/AddressType&gt;&lt;CrefoID&gt;408059952&lt;/CrefoID&gt;&lt;StatusCode&gt;Alive&lt;/StatusCode&gt;&lt;Name&gt;Havemann&lt;/Name&gt;&lt;Firstname&gt;Klaus&lt;/Firstname&gt;&lt;City&gt;Risch&lt;/City&gt;&lt;PlaceOfOrigin&gt;&lt;/PlaceOfOrigin&gt;&lt;Nation&gt;DE&lt;/Nation&gt;&lt;Country&gt;CH&lt;/Country&gt;&lt;Body&gt;Supervisory board&lt;/Body&gt;&lt;Position&gt;Chairman&lt;/Position&gt;&lt;Signature&gt;Sole sign. authority&lt;/Signature&gt;&lt;SignatureCode&gt;SAUTH&lt;/SignatureCode&gt;&lt;Warning&gt;False&lt;/Warning&gt;&lt;/AuthorisedSignatory&gt;&lt;/AuthorisedSignatories&gt;]]></a:Value></a:KeyValue><a:KeyValue><a:Key>Score</a:Key><a:Value>65</a:Value></a:KeyValue></a:CustomizedKeyValues><a:MonitoringOrderData/><a:ReportData></a:ReportData><a:ReportAttachmentAvailable>false</a:ReportAttachmentAvailable></GetReportResult></GetReportResponse></s:Body></s:Envelope>');
    	requestBodyMap.put('IDU', '<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:ns4="urn:idu"><SOAP-ENV:Body><ns4:IDUProcessResponse><Results><Summary><Status xsi:type="xsd:boolean">true</Status><ID xsi:type="xsd:string">1366487145</ID><IKey xsi:type="xsd:string">1557754550</IKey><equifaxUsername xsi:type="xsd:string"/><Reference xsi:type="xsd:string">TESTCFCH</Reference><Scorecard xsi:type="xsd:string">IDU default</Scorecard><Smartscore xsi:type="xsd:int">0</Smartscore><ResultText xsi:type="xsd:string">REFER</ResultText><ProfileURL xsi:type="xsd:string">https://idu.tracesmart.co.uk/?page=save&amp;id=1366487145&amp;ikey=1557754550</ProfileURL><Credits xsi:type="xsd:int">40976</Credits><Errors xsi:type="ns4:ErrorPart" xsi:nil="true"/></Summary><Address xsi:nil="true"/><Smartlink xsi:nil="true"/><Deathscreen xsi:nil="true"/><Ccj xsi:nil="true"/><DrivingLicence xsi:nil="true"/><DOB xsi:nil="true"/><Age xsi:nil="true"/><NHS xsi:nil="true"/><NI xsi:nil="true"/><Sanction xsi:nil="true"/><Passport xsi:nil="true"/><Birth xsi:nil="true"/><CardNumber xsi:nil="true"/><Insolvency xsi:nil="true"/><Mpan xsi:nil="true"/><BankAccountValidation xsi:nil="true"/><Crediva xsi:nil="true"/><CreditActive xsi:nil="true"/><TravelVisa xsi:nil="true"/><IDCard xsi:nil="true"/><BankAccountVerification xsi:nil="true"/><SearchActivity xsi:nil="true"/><CompanyDirector xsi:nil="true"/><PRS xsi:nil="true"/><Marriage xsi:nil="true"/><PollNumber xsi:nil="true"/><OnlineProfile xsi:nil="true"/><DocumentAuthentication xsi:nil="true"/><EmailAddresses xsi:nil="true"/><PhoneNumbers xsi:nil="true"/><Otp xsi:nil="true"/><OneTimePassword xsi:nil="true"/><Kba xsi:nil="true"/><EmailRisks xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="ns4:EmailRiskArray[1]"><EmailRisk xsi:type="ns4:EmailRisk"><EmailExists xsi:type="xsd:string">No</EmailExists><DomainExists xsi:type="xsd:string">Yes</DomainExists><EmailDate xsi:nil="true"/><DomainDate xsi:nil="true"/><StatusID xsi:type="xsd:int">4</StatusID><FraudRiskBand xsi:type="xsd:int">6</FraudRiskBand><RiskDescriptionID xsi:type="xsd:int">29</RiskDescriptionID><RiskAdviceID xsi:type="xsd:int">4</RiskAdviceID><FraudWithinIndustry xsi:nil="true"/><FraudType xsi:nil="true"/><TotalHits xsi:type="xsd:int">1</TotalHits><UniqueHits xsi:type="xsd:int">1</UniqueHits><NameMatch xsi:type="xsd:string">U</NameMatch><EmailAddress xsi:type="xsd:string">info@wielandtransporte.ch</EmailAddress></EmailRisk></EmailRisks></Results></ns4:IDUProcessResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>');
    	
	    HttpResponse response = new HttpResponse();
	    response.setStatus('OK');
	    response.setStatusCode(200);
	    response.setBody(requestBodyMap.get(requestType));
	    return response;
	}
}